version: "1"
services:
  py_size:
    command: "python3 py_size.py"
    working_dir: "."
    restart_policy: "always"
    backoff: "5s"
    hooks:
      on_restart:
        error:
          command: "curl -s -X POST https://jsonplaceholder.typicode.com/posts -H 'Content-Type: application/json' -d '{\"message\":\"I goof\\'d\"}'"
          timeout: "10s"
  count_number:
    command: "sh count_number.sh"
    working_dir: "."
    cron:
      expression: "*/10 * * * * *"
    restart_policy: "never"
  echo_lines:
    command: "sh echo_lines.sh"
    working_dir: "."
    restart_policy: "never"
    depends_on:
      - "count_number"
